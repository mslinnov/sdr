import{l as W,az as v,at as s,p as o,q as e,aU as u,b0 as i,bp as g,F as x,aE as y,y as m,bk as w,bm as k,b9 as j}from"./runtime-dom.esm-bundler-b0fe8529.js";import{u as I,a as C,C as F,L as S}from"./app-16b73b0e.js";import{g as h}from"./getOverallConditionNameById-72407106.js";import{g as L}from"./getHadRespondThisWeek-c72c4808.js";import{_ as V}from"./AppLayout-5860934f.js";/* empty css            */import"./moment-fbc5633a.js";import"./index-1c783d8f.js";const q={class:"bg-slate-50 w-full pb-10 pt-2"},E={class:"pb-4 m-4"},N=e("h1",{class:"font-medium text-2xl"},"Content de te revoir!",-1),O=e("h2",{class:"font-medium text-xl pb-4 ml-4"},"Comment vas-tu ?",-1),D={key:0},M=["onSubmit"],P={class:"flex items-center flex-row justify-center gap-4"},$=["id","value"],z=["for"],H=["src","alt"],Q={class:"text-sm text-gray-400 font-medium"},G=e("br",null,null,-1),J=e("div",{class:"flex items-center flex-col"},[e("button",{type:"submit",class:"btn-primary-rounded"}," Submit ")],-1),K={key:1},X=["onSubmit"],Y={class:"flex items-center flex-row justify-center gap-4"},Z=["id","value"],ee=["for"],te=["src","alt"],se={class:"text-sm text-gray-400 font-medium"},oe=e("br",null,null,-1),ie=e("div",{class:"flex items-center flex-col display-none"},[e("button",{type:"submit",id:"update_condition",class:"btn-primary-rounded"}," Update ")],-1),ne={key:2},re={class:"flex items-center justify-between mx-12"},ae={class:"flex items-center"},de=["src","alt"],le={class:"text-gray-600 text-sm"},ce={class:"flex flex-col m-4 gap-4"},ue={class:"flex justify-start gap-4 items-center"},me={class:"rounded-full bg-blue-100 p-3"},_e=["src"],pe=e("div",{class:"text-blue-600 font-bold"},"Questionnaire",-1),he={class:"flex justify-start gap-4 items-center"},be={class:"rounded-full bg-blue-100 p-3"},fe=["src"],ve=e("div",{class:"text-blue-600 font-bold"},"Blessure",-1),ge={layout:V},Re=Object.assign(ge,{__name:"Create",props:{overall_condition_types:Array,last_user_condition:Object},emits:["overallConditionUpdated"],setup(_,{emit:R}){const n=_,U=I(),A=W(()=>U.props.value.user);let r;r=v({editForm:!1,hadARespondThisWeek:!1});const a=v({name:"none"}),l=C({overall_condition_choice:null}),d=C({overall_condition_choice:null});n.last_user_condition&&(a.name=h(n.overall_condition_types,n.last_user_condition.overall_condition_type_id),d.overall_condition_choice=n.last_user_condition.overall_condition_type_id,r.hadARespondThisWeek=L(n.last_user_condition.updated_at));function b(){r.editForm=!r.editForm}const B=()=>{r.hadARespondThisWeek=!0,a.name=h(n.overall_condition_types,l.overall_condition_choice),l.post("/overall-condition/store")},T=()=>{b(),R("overallConditionUpdated",!0),a.name=h(n.overall_condition_types,d.overall_condition_choice),d.put(`/overall-condition/update/${n.last_user_condition.id}`)};return(f,c)=>(s(),o("main",q,[e("div",E,[N,e("span",null,"Salut, "+u(i(A).first_name),1)]),e("div",null,[O,i(r).hadARespondThisWeek?i(r).editForm?(s(),o("div",K,[e("form",{onSubmit:g(T,["prevent"]),id:"overallConditionUpdateForm"},[e("div",Y,[(s(!0),o(x,null,y(_.overall_condition_types,t=>(s(),o("div",null,[k((s(),o("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":c[1]||(c[1]=p=>i(d).overall_condition_choice=p),key:t.id,class:"hidden peer cursor-pointer"},null,8,Z)),[[j,i(d).overall_condition_choice]]),e("label",{for:t.id,class:"overallCondition_btn flex items-center flex-col justify-between w-20 text-center rounded-md px-4 py-2 bg-white cursor-pointer border border-white drop-shadow-sm peer-checked:border-blue-600 peer-checked:bg-blue-200 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100"},[(s(),o("img",{src:"/image/overall_condition_type/"+t.image,alt:t.name+" emoji",class:"w-10 pb-3",key:t.id},null,8,te)),e("div",se,u(t.name),1)],8,ee),oe]))),256))]),ie],40,X)])):(s(),o("div",ne,[e("div",re,[e("div",ae,[e("img",{src:"/image/overall_condition_type/"+a.name.toLowerCase()+".png",alt:a.name+" emoji",class:"h-12 w-12"},null,8,de),e("div",le,u(a.name),1)]),e("div",{class:"flex items-center flex-col"},[e("button",{type:"submit",class:"btn-primary-rounded",onClick:b}," Edit ")])])])):(s(),o("div",D,[e("form",{onSubmit:g(B,["prevent"]),id:"overallConditionCreateForm"},[e("div",P,[(s(!0),o(x,null,y(_.overall_condition_types,t=>(s(),o("div",null,[k((s(),o("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":c[0]||(c[0]=p=>i(l).overall_condition_choice=p),key:t.id,class:"hidden peer cursor-pointer"},null,8,$)),[[j,i(l).overall_condition_choice]]),e("label",{for:t.id,class:"overallCondition_btn flex items-center flex-col justify-between w-20 text-center rounded-md px-4 py-2 bg-white cursor-pointer border border-white drop-shadow-sm peer-checked:border-blue-600 peer-checked:bg-blue-200 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100"},[(s(),o("img",{src:"/image/overall_condition_type/"+t.image,alt:t.name+" emoji",class:"w-10 pb-3",key:t.id},null,8,H)),e("div",Q,u(t.name),1)],8,z),G]))),256))]),J],40,M)]))]),e("div",ce,[m(i(S),{href:f.route("survey.create"),class:"flex justify-between px-4 py-2 bg-white items-center rounded-2xl drop-shadow-md"},{default:w(()=>[e("div",ue,[e("div",me,[e("img",{src:"/image/icon/formulaire.png",alt:"Icone de formulaire",class:"aspect-square w-10 object-contain object-center"},null,8,_e)]),pe]),m(i(F),{class:"h-6 w-6 text-gray-700"})]),_:1},8,["href"]),m(i(S),{href:f.route("bodyParts"),class:"flex justify-between px-4 py-2 bg-white items-center rounded-2xl drop-shadow-md"},{default:w(()=>[e("div",he,[e("div",be,[e("img",{src:"/image/icon/blessures.png",alt:"Icone de formulaire",class:"aspect-square w-10 object-contain object-center"},null,8,fe)]),ve]),m(i(F),{class:"h-6 w-6 text-gray-700"})]),_:1},8,["href"])])]))}});export{Re as default};
