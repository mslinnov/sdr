import{l as W,az as v,at as o,p as s,q as e,aU as a,b0 as i,x as p,bp as x,F as y,aE as k,y as m,bk as w,bm as j,b9 as C}from"./runtime-dom.esm-bundler-b0fe8529.js";import{u as I,a as F,C as S,L as A}from"./app-886f4555.js";import{g as b}from"./getOverallConditionNameById-72407106.js";import{g as N}from"./getHadRespondThisWeek-c72c4808.js";import{_ as q}from"./AppLayout-a06c3e2b.js";/* empty css            */import"./moment-fbc5633a.js";import"./index-f5146087.js";const D={class:"bg-slate-50 dark:bg-slate-800 w-full pb-10 pt-2"},E={class:"pb-4 m-4"},L=e("h1",{class:"font-medium text-2xl"},"Content de te revoir!",-1),O=e("h2",{class:"font-medium text-xl pb-4 ml-4"},"Comment vas-tu ?",-1),M={class:"py-4"},P=e("div",{class:"font-2xl font-bold text-green-600"},"DATA",-1),$={class:"py-4"},z=e("div",{class:"font-2xl font-bold text-green-600"},"overall_condition_types",-1),H={class:"py-4"},Q=e("div",{class:"font-2xl font-bold text-green-600"},"last_user_condition",-1),G={key:0},J=["onSubmit"],K={class:"flex items-center flex-row justify-center gap-4"},X=["id","value"],Y=["for"],Z=["src","alt"],ee={class:"text-sm text-gray-400 font-medium"},te=e("br",null,null,-1),oe=e("div",{class:"flex items-center flex-col"},[e("button",{type:"submit",class:"btn-primary-rounded"}," Submit ")],-1),se={key:1},ie=["onSubmit"],re={class:"flex items-center flex-row justify-center gap-4"},ne=["id","value"],ae=["for"],de=["src","alt"],le={class:"text-sm text-gray-400 font-medium"},ce=e("br",null,null,-1),ue=e("div",{class:"flex items-center flex-col display-none"},[e("button",{type:"submit",id:"update_condition",class:"btn-primary-rounded"}," Update ")],-1),_e={key:2},me={class:"flex items-center justify-between mx-12"},he={class:"flex items-center"},pe=["src","alt"],be={class:"text-gray-600 dark:text-gray-100 text-sm"},fe={class:"flex flex-col m-4 gap-4"},ge={class:"flex justify-start gap-4 items-center"},ve={class:"rounded-full bg-blue-100 p-3"},xe=["src"],ye=e("div",{class:"text-blue-600 dark:text-blue-200 font-bold"},"Questionnaire",-1),ke={class:"flex justify-start gap-4 items-center"},we={class:"rounded-full bg-blue-100 p-3"},je=["src"],Ce=e("div",{class:"text-blue-600 dark:text-blue-200 font-bold"},"Blessure",-1),Fe={layout:q},Ie=Object.assign(Fe,{__name:"Create",props:{overall_condition_types:Array,last_user_condition:Object},emits:["overallConditionUpdated"],setup(l,{emit:R}){const r=l,T=I(),U=W(()=>T.props.value.user);let n;n=v({editForm:!1,hadARespondThisWeek:!1});const d=v({name:"none"}),u=F({overall_condition_choice:null}),c=F({overall_condition_choice:null});r.last_user_condition&&(d.name=b(r.overall_condition_types,r.last_user_condition.overall_condition_type_id),c.overall_condition_choice=r.last_user_condition.overall_condition_type_id,n.hadARespondThisWeek=N(r.last_user_condition.updated_at));function f(){n.editForm=!n.editForm}const B=()=>{n.hadARespondThisWeek=!0,d.name=b(r.overall_condition_types,u.overall_condition_choice),u.post("/overall-condition/store")},V=()=>{f(),R("overallConditionUpdated",!0),d.name=b(r.overall_condition_types,c.overall_condition_choice),c.put(`/overall-condition/update/${r.last_user_condition.id}`)};return(g,_)=>(o(),s("main",D,[e("div",E,[L,e("span",null,"Salut, "+a(i(U).first_name),1)]),e("div",null,[O,e("div",null,[e("div",M,[P,p(" "+a(i(n)),1)]),e("div",$,[z,p(" "+a(l.overall_condition_types),1)]),e("div",H,[Q,p(" "+a(l.last_user_condition),1)])]),i(n).hadARespondThisWeek?i(n).editForm?(o(),s("div",se,[e("form",{onSubmit:x(V,["prevent"]),id:"overallConditionUpdateForm"},[e("div",re,[(o(!0),s(y,null,k(l.overall_condition_types,t=>(o(),s("div",null,[j((o(),s("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":_[1]||(_[1]=h=>i(c).overall_condition_choice=h),key:t.id,class:"hidden peer cursor-pointer"},null,8,ne)),[[C,i(c).overall_condition_choice]]),e("label",{for:t.id,class:"overallCondition_btn flex items-center flex-col justify-between w-20 text-center rounded-md px-4 py-2 bg-white cursor-pointer border border-white drop-shadow-sm dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:bg-blue-200 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700"},[(o(),s("img",{src:"/image/overall_condition_type/"+t.image,alt:t.name+" emoji",class:"w-10 pb-3",key:t.id},null,8,de)),e("div",le,a(t.name),1)],8,ae),ce]))),256))]),ue],40,ie)])):(o(),s("div",_e,[e("div",me,[e("div",he,[e("img",{src:"/image/overall_condition_type/"+d.name+".png",alt:d.name+" emoji",class:"h-12 w-12"},null,8,pe),e("div",be,a(d.name),1)]),e("div",{class:"flex items-center flex-col"},[e("button",{type:"submit",class:"btn-primary-rounded",onClick:f}," Edit ")])])])):(o(),s("div",G,[e("form",{onSubmit:x(B,["prevent"]),id:"overallConditionCreateForm"},[e("div",K,[(o(!0),s(y,null,k(l.overall_condition_types,t=>(o(),s("div",null,[j((o(),s("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":_[0]||(_[0]=h=>i(u).overall_condition_choice=h),key:t.id,class:"hidden peer cursor-pointer"},null,8,X)),[[C,i(u).overall_condition_choice]]),e("label",{for:t.id,class:"overallCondition_btn flex items-center flex-col justify-between w-20 text-center rounded-md px-4 py-2 bg-white cursor-pointer border border-white drop-shadow-sm dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:bg-blue-200 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700"},[(o(),s("img",{src:"/image/overall_condition_type/"+t.image,alt:t.name+" emoji",class:"w-10 pb-3",key:t.id},null,8,Z)),e("div",ee,a(t.name),1)],8,Y),te]))),256))]),oe],40,J)]))]),e("div",fe,[m(i(A),{href:g.route("survey.create"),class:"flex justify-between px-4 py-2 bg-white dark:bg-slate-900 items-center rounded-2xl drop-shadow-md"},{default:w(()=>[e("div",ge,[e("div",ve,[e("img",{src:"/image/icon/formulaire.png",alt:"Icone de formulaire",class:"aspect-square w-10 object-contain object-center"},null,8,xe)]),ye]),m(i(S),{class:"h-6 w-6 text-gray-700 dark:text-gray-200"})]),_:1},8,["href"]),m(i(A),{href:g.route("bodyParts"),class:"flex justify-between px-4 py-2 bg-white dark:bg-slate-900 items-center rounded-2xl drop-shadow-md"},{default:w(()=>[e("div",ke,[e("div",we,[e("img",{src:"/image/icon/blessures.png",alt:"Icone de formulaire",class:"aspect-square w-10 object-contain object-center"},null,8,je)]),Ce]),m(i(S),{class:"h-6 w-6 text-gray-700 dark:text-gray-200"})]),_:1},8,["href"])])]))}});export{Ie as default};
