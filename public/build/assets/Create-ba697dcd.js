import{l as W,az as g,at as o,p as s,q as e,aU as u,b0 as i,bp as v,F as x,aE as y,y as m,bk as k,bm as w,b9 as j}from"./runtime-dom.esm-bundler-b0fe8529.js";import{u as I,a as C,C as F,L as S}from"./app-c850fc18.js";import{g as p}from"./getOverallConditionNameById-72407106.js";import{g as V}from"./getHadRespondThisWeek-c72c4808.js";import{_ as q}from"./AppLayout-f83566b6.js";/* empty css            */import"./moment-fbc5633a.js";import"./index-25d3fdd2.js";const E={class:"bg-slate-50 dark:bg-slate-800 w-full pb-10 pt-2"},L={class:"pb-4 m-4"},N=e("h1",{class:"font-medium text-2xl"},"Content de te revoir!",-1),O=e("h2",{class:"font-medium text-xl pb-4 ml-4"},"Comment vas-tu ?",-1),D={key:0},M=["onSubmit"],P={class:"flex items-center flex-row justify-center gap-4"},$=["id","value"],z=["for"],H=["src","alt"],Q={class:"text-sm text-gray-400 font-medium"},G=e("br",null,null,-1),J=e("div",{class:"flex items-center flex-col"},[e("button",{type:"submit",class:"btn-primary-rounded"}," Submit ")],-1),K={key:1},X=["onSubmit"],Y={class:"flex items-center flex-row justify-center gap-4"},Z=["id","value"],ee=["for"],te=["src","alt"],oe={class:"text-sm text-gray-400 font-medium"},se=e("br",null,null,-1),ie=e("div",{class:"flex items-center flex-col display-none"},[e("button",{type:"submit",id:"update_condition",class:"btn-primary-rounded"}," Update ")],-1),re={key:2},ae={class:"flex items-center justify-between mx-12"},ne={class:"flex items-center"},de=["src","alt"],le={class:"text-gray-600 dark:text-gray-100 text-sm"},ce={class:"flex flex-col m-4 gap-4"},ue={class:"flex justify-start gap-4 items-center"},me={class:"rounded-full bg-blue-100 p-3"},_e=["src"],he=e("div",{class:"text-blue-600 dark:text-blue-200 font-bold"},"Questionnaire",-1),pe={class:"flex justify-start gap-4 items-center"},be={class:"rounded-full bg-blue-100 p-3"},fe=["src"],ge=e("div",{class:"text-blue-600 dark:text-blue-200 font-bold"},"Blessure",-1),ve={layout:q},Re=Object.assign(ve,{__name:"Create",props:{overall_condition_types:Array,last_user_condition:Object},emits:["overallConditionUpdated"],setup(_,{emit:R}){const r=_,U=I(),A=W(()=>U.props.value.user);let a;a=g({editForm:!1,hadARespondThisWeek:!1});const n=g({name:"none"}),l=C({overall_condition_choice:null}),d=C({overall_condition_choice:null});r.last_user_condition&&(n.name=p(r.overall_condition_types,r.last_user_condition.overall_condition_type_id),d.overall_condition_choice=r.last_user_condition.overall_condition_type_id,a.hadARespondThisWeek=V(r.last_user_condition.updated_at));function b(){a.editForm=!a.editForm}const B=()=>{a.hadARespondThisWeek=!0,n.name=p(r.overall_condition_types,l.overall_condition_choice),l.post("/overall-condition/store")},T=()=>{b(),R("overallConditionUpdated",!0),n.name=p(r.overall_condition_types,d.overall_condition_choice),d.put(`/overall-condition/update/${r.last_user_condition.id}`)};return(f,c)=>(o(),s("main",E,[e("div",L,[N,e("span",null,"Salut, "+u(i(A).first_name),1)]),e("div",null,[O,i(a).hadARespondThisWeek?i(a).editForm?(o(),s("div",K,[e("form",{onSubmit:v(T,["prevent"]),id:"overallConditionUpdateForm"},[e("div",Y,[(o(!0),s(x,null,y(_.overall_condition_types,t=>(o(),s("div",null,[w((o(),s("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":c[1]||(c[1]=h=>i(d).overall_condition_choice=h),key:t.id,class:"hidden peer cursor-pointer"},null,8,Z)),[[j,i(d).overall_condition_choice]]),e("label",{for:t.id,class:"overallCondition_btn flex items-center flex-col justify-between w-20 text-center rounded-md px-4 py-2 bg-white cursor-pointer border border-white drop-shadow-sm dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:bg-blue-200 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700"},[(o(),s("img",{src:"/image/overall_condition_type/"+t.image,alt:t.name+" emoji",class:"w-10 pb-3",key:t.id},null,8,te)),e("div",oe,u(t.name),1)],8,ee),se]))),256))]),ie],40,X)])):(o(),s("div",re,[e("div",ae,[e("div",ne,[e("img",{src:"/image/overall_condition_type/"+n.name+".png",alt:n.name+" emoji",class:"h-12 w-12"},null,8,de),e("div",le,u(n.name),1)]),e("div",{class:"flex items-center flex-col"},[e("button",{type:"submit",class:"btn-primary-rounded",onClick:b}," Edit ")])])])):(o(),s("div",D,[e("form",{onSubmit:v(B,["prevent"]),id:"overallConditionCreateForm"},[e("div",P,[(o(!0),s(x,null,y(_.overall_condition_types,t=>(o(),s("div",null,[w((o(),s("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":c[0]||(c[0]=h=>i(l).overall_condition_choice=h),key:t.id,class:"hidden peer cursor-pointer"},null,8,$)),[[j,i(l).overall_condition_choice]]),e("label",{for:t.id,class:"overallCondition_btn flex items-center flex-col justify-between w-20 text-center rounded-md px-4 py-2 bg-white cursor-pointer border border-white drop-shadow-sm dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:bg-blue-200 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700"},[(o(),s("img",{src:"/image/overall_condition_type/"+t.image,alt:t.name+" emoji",class:"w-10 pb-3",key:t.id},null,8,H)),e("div",Q,u(t.name),1)],8,z),G]))),256))]),J],40,M)]))]),e("div",ce,[m(i(S),{href:f.route("survey.create"),class:"flex justify-between px-4 py-2 bg-white dark:bg-slate-900 items-center rounded-2xl drop-shadow-md"},{default:k(()=>[e("div",ue,[e("div",me,[e("img",{src:"/image/icon/formulaire.png",alt:"Icone de formulaire",class:"aspect-square w-10 object-contain object-center"},null,8,_e)]),he]),m(i(F),{class:"h-6 w-6 text-gray-700 dark:text-gray-200"})]),_:1},8,["href"]),m(i(S),{href:f.route("bodyParts"),class:"flex justify-between px-4 py-2 bg-white dark:bg-slate-900 items-center rounded-2xl drop-shadow-md"},{default:k(()=>[e("div",pe,[e("div",be,[e("img",{src:"/image/icon/blessures.png",alt:"Icone de formulaire",class:"aspect-square w-10 object-contain object-center"},null,8,fe)]),ge]),m(i(F),{class:"h-6 w-6 text-gray-700 dark:text-gray-200"})]),_:1},8,["href"])])]))}});export{Re as default};
