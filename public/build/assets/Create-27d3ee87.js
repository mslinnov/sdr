import{C as g}from"./index-402a38e3.js";import{m as p,_ as T}from"./AppLayout-2e270c3c.js";import{_ as v,a as x}from"./SurveyElements-28f39e89.js";import{g as C}from"./getHadRespondThisWeek-c72c4808.js";import{az as f,at as t,p as a,q as r,F as c,aE as y,ad as h,aU as w,n as R,b0 as S,o as A,y as _}from"./runtime-dom.esm-bundler-b0fe8529.js";import"./app-047b7699.js";/* empty css            */import"./_plugin-vue_export-helper-c27b6911.js";import"./moment-fbc5633a.js";const B={class:"h-12 max-w-screen-xl px-8 m-auto flex gap-4 items-center justify-center"},W={class:"flex flex-wrap -mb-px"},$={class:"mr-2 flex"},q=["onClick"],E={class:"max-w-screen-xl px-4 mx-auto"},F={key:0},N={key:1},V={layout:T,name:"slate-tabs",components:{SurveyElements:v},data(){return{openTab:1}},methods:{toggleTabs:function(o){this.openTab=o}}},J=Object.assign(V,{props:{surveys:Array,surveyResponses:Array},setup(o){const u=o,b=u.surveyResponses,d=f({lastWeekTuesday:p().day(-5),thisWeekTuesday:p().day(2),editForm:!1,surveyStatus:{}});function k(s){d.surveyStatus[s]=!0}const n=f({});for(let s of u.surveys){var l=s.id;const i=b.filter(m=>m.survey_id===l),e=i.slice(-1)[0];i.length>0?n[l]=C(e.updated_at):n[l]=!1}return(s,i)=>(t(),a(c,null,[r("div",B,[r("ul",W,[(t(!0),a(c,null,y(o.surveys,e=>(t(),a("li",$,[r("a",{onClick:m=>s.toggleTabs(e.order),class:h({"app-inactive-tab":s.openTab!==e.order,"app-active-tab":s.openTab===e.order})},w(e.name),11,q),n[e.id]||d.surveyStatus[e.id]?(t(),R(S(g),{key:0,class:"h-4 w-4 text-white bg-green-600 rounded-full -ml-2"})):A("",!0)]))),256))])]),r("main",E,[(t(!0),a(c,null,y(o.surveys,e=>(t(),a("div",{class:h({hidden:s.openTab!==e.order,block:s.openTab===e.order})},[n[e.id]?(t(),a("div",F,[_(x,{"survey-questions":e,"survey-responses":o.surveyResponses},null,8,["survey-questions","survey-responses"])])):(t(),a("div",N,[_(v,{survey:e,onSurveyCompleted:k},null,8,["survey"])]))],2))),256))])],64))}});export{J as default};
