import{az as L,l as B,aB as b,at as i,p as r,q as e,b0 as t,o as c,bm as a,bc as w,bp as N,y as l,bb as d,aU as u,n as M,bk as g,F as S,x as k}from"./runtime-dom.esm-bundler-b0fe8529.js";import{u as j,a as D,I as x,E as V,P as U,b as P,L as C}from"./app-c7530a22.js";import{_ as T}from"./AppLayout-25e25b25.js";/* empty css            */import"./index-fe191e30.js";const A=e("div",{class:"w-full p-4"},[e("h2",{class:"text-center"},"Paramètre du compte")],-1),F={class:"flex flex-col gap-4 items-center px-10"},$=["src","alt"],q=["onSubmit"],z={class:"my-account-input-box"},O={class:"inline-flex gap-2 items-center"},W=e("label",{for:"firstname",class:"text-primary"},"Prénom",-1),G={key:0,class:"input-error"},H={class:"my-account-input-box"},J={class:"inline-flex gap-2 items-center"},K=e("label",{for:"lastname",class:"text-primary"},"Nom",-1),Q={key:0,class:"input-error"},R={class:"my-account-input-box"},X={class:"inline-flex gap-2 items-center"},Y=e("label",{for:"email",class:"text-primary"},"Email",-1),Z={key:0,class:"input-error"},ee={class:"my-account-input-box"},te={class:"inline-flex gap-2 items-center"},se=e("label",{for:"phone",class:"text-primary"},"Téléphone",-1),oe={key:0,class:"input-error"},ne={class:"my-account-input-box"},ae={class:"inline-flex gap-2 items-center"},ie=e("label",{for:"password",class:"text-primary"},"Mot de passe",-1),le={class:"my-account-input-box"},re={class:"inline-flex gap-2 items-center"},ce=e("label",{for:"password_confirmation",class:"text-primary"},"Confirmation",-1),de={key:0,class:"input-error"},pe=e("button",{class:"btn-primary-rounded w-2/3 md:w-2/3 text-center",type:"submit"}," Sauvegarder ",-1),ue={class:"w-full flex flex-col items-center gap-4"},me={class:"my-account-input-box"},_e={class:"inline-flex gap-2 items-center"},fe=e("label",{for:"firstname",class:"text-primary"},"Prénom",-1),xe={class:"my-account-input-box"},ye={class:"inline-flex gap-2 items-center"},he=e("label",{for:"lastname",class:"text-primary"},"Nom",-1),ve={key:0,class:"input-error"},be={class:"my-account-input-box"},we={class:"inline-flex gap-2 items-center"},ge=e("label",{for:"email",class:"text-primary"},"Email",-1),ke={key:0,class:"input-error"},Ve={class:"my-account-input-box"},Ue={class:"inline-flex gap-2 items-center"},Pe=e("label",{for:"phone",class:"text-primary"},"Téléphone",-1),Ce={key:0,class:"input-error"},Ee={class:"flex flex-col gap-4 items-center p-10"},Ie={layout:T},De=Object.assign(Ie,{__name:"MyAccount",setup(Le){const _=L({profil:!1}),h=j(),p=B(()=>h.props.value.user),s=D({first_name:p.value.first_name,last_name:p.value.last_name,email:p.value.email,phone:p.value.phone,password:p.value.password,password_confirmation:null}),E=()=>s.put(`/user/${h.props.value.user.id}`);function v(){_.profil=!_.profil,console.log(_.profil)}const y=b(!1),f=b(null);window.addEventListener("beforeinstallprompt",m=>{console.log("addEventListener"),m.preventDefault(),f.value=m,y.value=!0});function I(){f.value.prompt(),f.value.userChoice.then(m=>{m.outcome==="accepted"?console.log("L'application a été installée."):console.log("L'application n'a pas été installée."),y.value=!1,f.value=null})}return(m,o)=>(i(),r(S,null,[A,e("div",F,[t(p).image[0]?(i(),r("img",{key:0,src:t(p).image[0].src,alt:"Photo de profil du joueur "+t(p).first_name,class:"h-40 w-40 rounded-full object-cover object-top"},null,8,$)):c("",!0),a(e("form",{class:"w-full flex flex-col items-center gap-4",onSubmit:N(E,["prevent"])},[e("div",z,[e("div",O,[l(t(x),{class:"icon-primary"}),W]),a(e("input",{id:"firstname",class:"edit-input","onUpdate:modelValue":o[0]||(o[0]=n=>t(s).first_name=n),type:"text"},null,512),[[d,t(s).first_name]]),t(s).errors.first_name?(i(),r("div",G,u(t(s).errors.first_name),1)):c("",!0)]),e("div",H,[e("div",J,[l(t(x),{class:"icon-primary"}),K]),a(e("input",{id:"lastname",class:"edit-input","onUpdate:modelValue":o[1]||(o[1]=n=>t(s).last_name=n),type:"text"},null,512),[[d,t(s).last_name]]),t(s).errors.last_name?(i(),r("div",Q,u(t(s).errors.last_name),1)):c("",!0)]),e("div",R,[e("div",X,[l(t(V),{class:"icon-primary"}),Y]),a(e("input",{id:"email",class:"edit-input","onUpdate:modelValue":o[2]||(o[2]=n=>t(s).email=n),type:"text"},null,512),[[d,t(s).email]]),t(s).errors.email?(i(),r("div",Z,u(t(s).errors.email),1)):c("",!0)]),e("div",ee,[e("div",te,[l(t(U),{class:"icon-primary"}),se]),a(e("input",{id:"phone",class:"edit-input","onUpdate:modelValue":o[3]||(o[3]=n=>t(s).phone=n),type:"tel"},null,512),[[d,t(s).phone]]),t(s).errors.phone?(i(),r("div",oe,u(t(s).errors.phone),1)):c("",!0)]),e("div",ne,[e("div",ae,[l(t(P),{class:"icon-primary"}),ie]),a(e("input",{id:"password",class:"edit-input","onUpdate:modelValue":o[4]||(o[4]=n=>t(s).password=n),type:"password",placeholder:"********"},null,512),[[d,t(s).password]])]),e("div",le,[e("div",re,[l(t(P),{class:"icon-primary"}),ce]),a(e("input",{id:"password_confirmation",class:"edit-input","onUpdate:modelValue":o[5]||(o[5]=n=>t(s).password_confirmation=n),type:"password",placeholder:"********"},null,512),[[d,t(s).password_confirmation]])]),t(s).errors.password?(i(),r("div",de,u(t(s).errors.password),1)):c("",!0),e("div",{class:"flex gap-4 items-center w-full md:w-1/2"},[pe,e("button",{class:"alert-primary-rounded w-2/3 md:w-2/3 text-center",type:"button",onClick:v}," Annuler ")])],40,q),[[w,_.profil]]),a(e("section",ue,[e("div",me,[e("div",_e,[l(t(x),{class:"icon-primary"}),fe]),a(e("input",{id:"firstname",class:"no-edit-input","onUpdate:modelValue":o[6]||(o[6]=n=>t(s).first_name=n),type:"text"},null,512),[[d,t(s).first_name]])]),e("div",xe,[e("div",ye,[l(t(x),{class:"icon-primary"}),he]),a(e("input",{id:"lastname",class:"no-edit-input","onUpdate:modelValue":o[7]||(o[7]=n=>t(s).last_name=n),type:"text"},null,512),[[d,t(s).last_name]]),t(s).errors.last_name?(i(),r("div",ve,u(t(s).errors.last_name),1)):c("",!0)]),e("div",be,[e("div",we,[l(t(V),{class:"icon-primary"}),ge]),a(e("input",{id:"email",class:"no-edit-input","onUpdate:modelValue":o[8]||(o[8]=n=>t(s).email=n),type:"text"},null,512),[[d,t(s).email]]),t(s).errors.email?(i(),r("div",ke,u(t(s).errors.email),1)):c("",!0)]),e("div",Ve,[e("div",Ue,[l(t(U),{class:"icon-primary"}),Pe]),a(e("input",{id:"phone",class:"no-edit-input","onUpdate:modelValue":o[9]||(o[9]=n=>t(s).phone=n),type:"tel"},null,512),[[d,t(s).phone]]),t(s).errors.phone?(i(),r("div",Ce,u(t(s).errors.phone),1)):c("",!0)]),e("div",{class:"flex flex-col items-center w-full md:w-1/2"},[e("button",{class:"btn-primary-rounded w-2/3 md:w-2/3 text-center",type:"button",onClick:v}," Modifier ")])],512),[[w,!_.profil]])]),e("div",Ee,[e("div",null,[y.value?(i(),M(t(C),{key:0,class:"text-center text-md",onClick:I},{default:g(()=>[k(" Installer l'application ")]),_:1})):c("",!0)]),e("div",null,[l(t(C),{class:"text-center text-xs",href:m.route("logout"),method:"delete",as:"button"},{default:g(()=>[k(" Déconnexion ")]),_:1},8,["href"])])])],64))}});export{De as default};
